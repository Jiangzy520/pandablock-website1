<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ‰‹æœºç«¯èŠå¤©çª—å£æµ‹è¯• - å¼ºåˆ¶åˆ·æ–°ç‰ˆæœ¬</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    
    h1 {
      color: #333;
      margin-bottom: 20px;
      font-size: 24px;
    }
    
    .status {
      background: #f0f9ff;
      border-left: 4px solid #0ea5e9;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 4px;
    }
    
    .status h2 {
      color: #0369a1;
      font-size: 18px;
      margin-bottom: 10px;
    }
    
    .status ul {
      margin-left: 20px;
      color: #0c4a6e;
    }
    
    .status li {
      margin: 8px 0;
    }
    
    .test-section {
      background: #fef3c7;
      border-left: 4px solid #f59e0b;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
    }
    
    .test-section h3 {
      color: #92400e;
      margin-bottom: 10px;
    }
    
    .test-section ol {
      margin-left: 20px;
      color: #78350f;
    }
    
    .test-section li {
      margin: 8px 0;
    }
    
    .success {
      background: #dcfce7;
      border-left: 4px solid #22c55e;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
      color: #166534;
    }
    
    .error {
      background: #fee2e2;
      border-left: 4px solid #ef4444;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
      color: #991b1b;
    }
    
    .code {
      background: #1e293b;
      color: #e2e8f0;
      padding: 15px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      overflow-x: auto;
      margin: 15px 0;
    }
    
    .version-info {
      background: #f1f5f9;
      padding: 15px;
      border-radius: 8px;
      margin: 20px 0;
    }
    
    .version-info strong {
      color: #4CAF50;
      font-size: 18px;
    }
    
    .floating-toolbar {
      position: fixed;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      background: white;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    .floating-toolbar button {
      display: block;
      width: 50px;
      height: 50px;
      margin: 10px 0;
      border: none;
      border-radius: 8px;
      font-size: 24px;
      cursor: pointer;
      background: #f0f0f0;
      transition: all 0.3s;
    }
    
    .floating-toolbar button:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ¼ PandaBlock æ‰‹æœºç«¯èŠå¤©çª—å£æµ‹è¯•</h1>
    
    <div class="version-info">
      <strong>å½“å‰ç‰ˆæœ¬ï¼šv3.0.6</strong><br>
      <small>ä¿®å¤ï¼šæ‰‹æœºç«¯èŠå¤©çª—å£è‡ªåŠ¨æ‰“å¼€å’Œæ˜¾ç¤ºé—®é¢˜</small><br>
      <small>æ—¶é—´æˆ³ï¼š<?php echo time(); ?></small>
    </div>
    
    <div class="status">
      <h2>âœ… å·²ä¿®å¤çš„é—®é¢˜</h2>
      <ul>
        <li><strong>é—®é¢˜1ï¼š</strong>èŠå¤©çª—å£åœ¨æ‰‹æœºä¸Šè‡ªåŠ¨æ‰“å¼€ â†’ <strong>å·²ä¿®å¤</strong></li>
        <li><strong>é—®é¢˜2ï¼š</strong>èŠå¤©çª—å£æ˜¾ç¤ºä¸å®Œæ•´ï¼Œè¶…å‡ºå±å¹• â†’ <strong>å·²ä¿®å¤</strong></li>
        <li><strong>é—®é¢˜3ï¼š</strong>èŠå¤©çª—å£æ²¡æœ‰å±…ä¸­ â†’ <strong>å·²ä¿®å¤</strong></li>
      </ul>
    </div>
    
    <div class="test-section">
      <h3>ğŸ“± æµ‹è¯•æ­¥éª¤</h3>
      <ol>
        <li><strong>é¡µé¢åŠ è½½æ—¶ï¼š</strong>
          <ul>
            <li>âœ… åªæ˜¾ç¤ºå·¦ä¸‹è§’çš„ç»¿è‰²èŠå¤©æŒ‰é’®ï¼ˆğŸ¼ï¼‰</li>
            <li>âœ… èŠå¤©çª—å£åº”è¯¥æ˜¯éšè—çš„</li>
            <li>âœ… å³ä¾§æµ®åŠ¨å·¥å…·æ æ­£å¸¸æ˜¾ç¤ºï¼ˆâš¡ğŸ’°ğŸ”§ï¼‰</li>
          </ul>
        </li>
        <li><strong>ç‚¹å‡»èŠå¤©æŒ‰é’®åï¼š</strong>
          <ul>
            <li>âœ… èŠå¤©çª—å£ä»åº•éƒ¨å¼¹å‡º</li>
            <li>âœ… çª—å£å±…ä¸­æ˜¾ç¤ºï¼Œå·¦å³å„æœ‰10pxè¾¹è·</li>
            <li>âœ… çª—å£é«˜åº¦ä¸ºå±å¹•é«˜åº¦çš„70%</li>
            <li>âœ… å¯ä»¥çœ‹åˆ°å®Œæ•´çš„èŠå¤©ç•Œé¢</li>
          </ul>
        </li>
        <li><strong>æ£€æŸ¥èŠå¤©çª—å£å†…å®¹ï¼š</strong>
          <ul>
            <li>âœ… å¤´éƒ¨æ˜¾ç¤º"PandaBlock AI"å’Œå…³é—­æŒ‰é’®</li>
            <li>âœ… æ¬¢è¿æ¶ˆæ¯å®Œæ•´æ˜¾ç¤º</li>
            <li>âœ… ä¸‰ä¸ªå¿«æ·å›å¤æŒ‰é’®æ–‡å­—æ¸…æ™°ï¼ˆæ·±è‰²ï¼‰</li>
            <li>âœ… è¾“å…¥æ¡†å’Œå‘é€æŒ‰é’®æ­£å¸¸æ˜¾ç¤º</li>
          </ul>
        </li>
        <li><strong>æµ‹è¯•æ»šåŠ¨ï¼š</strong>
          <ul>
            <li>âœ… æ¶ˆæ¯åŒºåŸŸå¯ä»¥æ­£å¸¸æ»šåŠ¨</li>
            <li>âœ… æ»šåŠ¨æµç•…ï¼Œæ²¡æœ‰å¡é¡¿</li>
          </ul>
        </li>
        <li><strong>ç‚¹å‡»å…³é—­æŒ‰é’®ï¼ˆÃ—ï¼‰ï¼š</strong>
          <ul>
            <li>âœ… èŠå¤©çª—å£å…³é—­</li>
            <li>âœ… åªæ˜¾ç¤ºèŠå¤©æŒ‰é’®</li>
          </ul>
        </li>
      </ol>
    </div>
    
    <div class="success">
      <strong>ğŸ¯ é¢„æœŸæ•ˆæœï¼š</strong><br>
      é¡µé¢åŠ è½½æ—¶ï¼ŒèŠå¤©çª—å£é»˜è®¤éšè—ï¼Œåªæ˜¾ç¤ºå·¦ä¸‹è§’çš„èŠå¤©æŒ‰é’®ã€‚<br>
      ç‚¹å‡»æŒ‰é’®åï¼ŒèŠå¤©çª—å£å±…ä¸­å¼¹å‡ºï¼Œå®Œæ•´æ˜¾ç¤ºæ‰€æœ‰å†…å®¹ã€‚
    </div>
    
    <div class="code">
      <strong>æŠ€æœ¯å®ç°ï¼š</strong><br>
      â€¢ ä½¿ç”¨ CSS: display: none é»˜è®¤éšè—çª—å£<br>
      â€¢ ä½¿ç”¨ .pb-show class æ§åˆ¶æ˜¾ç¤º/éšè—<br>
      â€¢ æ‰‹æœºç«¯å®½åº¦: calc(100vw - 20px)<br>
      â€¢ æ‰‹æœºç«¯é«˜åº¦: 70vh<br>
      â€¢ å®šä½: left: 10px, right: 10px, margin: 0 auto
    </div>
    
    <div class="error" id="error-section" style="display: none;">
      <strong>âŒ å¦‚æœä»ç„¶æœ‰é—®é¢˜ï¼š</strong><br>
      1. å¼ºåˆ¶åˆ·æ–°é¡µé¢ï¼ˆCtrl+Shift+R æˆ– Cmd+Shift+Rï¼‰<br>
      2. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜<br>
      3. åœ¨éšç§æ¨¡å¼/æ— ç—•æ¨¡å¼ä¸‹æ‰“å¼€<br>
      4. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
    </div>
  </div>
  
  <!-- æ¨¡æ‹Ÿå³ä¾§æµ®åŠ¨å·¥å…·æ  -->
  <div class="floating-toolbar">
    <button title="å¿«é€Ÿå¼€å‘">âš¡</button>
    <button title="ä»·æ ¼å’¨è¯¢">ğŸ’°</button>
    <button title="æœåŠ¡ä»‹ç»">ğŸ”§</button>
  </div>
  
  <!-- åŠ è½½èŠå¤©ç»„ä»¶ - ä½¿ç”¨æ—¶é—´æˆ³å¼ºåˆ¶åˆ·æ–° -->
  <script src="simple-chat-widget.js?v=3.0.6&t=<?php echo time(); ?>" defer></script>
  
  <script>
    // æ£€æµ‹èŠå¤©ç»„ä»¶æ˜¯å¦æ­£ç¡®åŠ è½½
    window.addEventListener('load', () => {
      setTimeout(() => {
        const chatWidget = document.getElementById('pandablock-chat-widget');
        const chatWindow = document.getElementById('pb-chat-window');
        const chatButton = document.getElementById('pb-chat-button');
        
        if (!chatWidget || !chatWindow || !chatButton) {
          document.getElementById('error-section').style.display = 'block';
          console.error('âŒ èŠå¤©ç»„ä»¶åŠ è½½å¤±è´¥');
          return;
        }
        
        // æ£€æŸ¥èŠå¤©çª—å£æ˜¯å¦é»˜è®¤éšè—
        const windowDisplay = window.getComputedStyle(chatWindow).display;
        const hasShowClass = chatWindow.classList.contains('pb-show');
        
        console.log('âœ… èŠå¤©ç»„ä»¶åŠ è½½æˆåŠŸ');
        console.log('èŠå¤©çª—å£ display:', windowDisplay);
        console.log('èŠå¤©çª—å£ pb-show class:', hasShowClass);
        
        if (windowDisplay !== 'none' && !hasShowClass) {
          console.warn('âš ï¸ è­¦å‘Šï¼šèŠå¤©çª—å£å¯èƒ½æ²¡æœ‰æ­£ç¡®éšè—');
          document.getElementById('error-section').style.display = 'block';
        }
      }, 1500);
    });
  </script>
</body>
</html>

