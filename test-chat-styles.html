<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>聊天样式测试 - PandaBlock</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
    }

    h1 {
      color: #333;
      margin-bottom: 20px;
      font-size: 28px;
    }

    .info-box {
      background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%);
      border-left: 4px solid #00bcd4;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 8px;
    }

    .info-box h2 {
      color: #00838f;
      margin-bottom: 10px;
      font-size: 20px;
    }

    .info-box p {
      color: #006064;
      line-height: 1.6;
      margin-bottom: 10px;
      font-weight: 500;
    }

    .feature-list {
      background: #f8fafc;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
    }

    .feature-list h3 {
      color: #4CAF50;
      margin-bottom: 15px;
      font-size: 18px;
    }

    .feature-item {
      display: flex;
      align-items: flex-start;
      padding: 12px;
      margin-bottom: 10px;
      background: white;
      border-radius: 8px;
      border-left: 3px solid #4CAF50;
    }

    .feature-item .icon {
      font-size: 24px;
      margin-right: 12px;
    }

    .feature-item .content {
      flex: 1;
    }

    .feature-item .title {
      font-weight: 600;
      color: #333;
      margin-bottom: 4px;
    }

    .feature-item .desc {
      color: #666;
      font-size: 14px;
    }

    .highlight {
      background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
      color: #333;
      padding: 2px 8px;
      border-radius: 4px;
      font-weight: 700;
    }

    .button {
      display: inline-block;
      padding: 12px 24px;
      background: linear-gradient(135deg, #4CAF50, #45a049);
      color: white;
      text-decoration: none;
      border-radius: 6px;
      font-weight: 600;
      transition: all 0.3s ease;
      border: none;
      cursor: pointer;
      font-size: 16px;
      margin-right: 10px;
    }

    .button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
    }

    .example-box {
      background: white;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
    }

    .example-box h3 {
      color: #333;
      margin-bottom: 15px;
    }

    .color-demo {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    .color-item {
      padding: 8px 16px;
      border-radius: 6px;
      font-weight: 600;
      font-size: 14px;
    }

    .color-dark {
      background: #1e293b;
      color: white;
    }

    .color-green {
      background: #4CAF50;
      color: white;
    }

    .color-red {
      background: #FF6B6B;
      color: white;
    }

    .color-blue {
      background: #2196F3;
      color: white;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>🎨 聊天样式优化测试</h1>

    <div class="info-box">
      <h2>✅ 已修复的问题</h2>
      <p><strong>问题 1:</strong> 白色背景上文字看不清楚</p>
      <p><strong>解决:</strong> 使用深色文字 <span class="highlight">#1e293b</span>，确保高对比度</p>
      <p><strong>问题 2:</strong> 对话窗口不能上下滑动</p>
      <p><strong>解决:</strong> 强制启用滚动 + iOS 平滑滚动支持</p>
    </div>

    <div class="feature-list">
      <h3>🌟 新增功能</h3>
      
      <div class="feature-item">
        <div class="icon">🎨</div>
        <div class="content">
          <div class="title">深色文字</div>
          <div class="desc">机器人消息使用 #1e293b 深色，font-weight: 500，确保清晰可读</div>
        </div>
      </div>

      <div class="feature-item">
        <div class="icon">🔢</div>
        <div class="content">
          <div class="title">数字高亮</div>
          <div class="desc">自动识别数字（如 7天、150+），使用红色 #FF6B6B 加粗显示</div>
        </div>
      </div>

      <div class="feature-item">
        <div class="icon">😊</div>
        <div class="content">
          <div class="title">Emoji 放大</div>
          <div class="desc">所有 Emoji 自动放大到 20px，更加醒目</div>
        </div>
      </div>

      <div class="feature-item">
        <div class="icon">💪</div>
        <div class="content">
          <div class="title">强调文字</div>
          <div class="desc">**粗体** 自动转换为绿色 #4CAF50 高亮</div>
        </div>
      </div>

      <div class="feature-item">
        <div class="icon">📜</div>
        <div class="content">
          <div class="title">平滑滚动</div>
          <div class="desc">支持 iOS -webkit-overflow-scrolling: touch</div>
        </div>
      </div>
    </div>

    <div class="example-box">
      <h3>🎨 颜色方案</h3>
      <div class="color-demo">
        <div class="color-item color-dark">正文文字 #1e293b</div>
        <div class="color-item color-green">强调文字 #4CAF50</div>
        <div class="color-item color-red">数字高亮 #FF6B6B</div>
        <div class="color-item color-blue">链接文字 #2196F3</div>
      </div>
    </div>

    <div class="example-box">
      <h3>📝 示例消息</h3>
      <p style="color: #666; margin-bottom: 15px;">打开聊天窗口查看实际效果：</p>
      <ul style="color: #666; line-height: 2; padding-left: 20px;">
        <li><strong style="color: #FF6B6B;">7天</strong> 和 <strong style="color: #FF6B6B;">150+</strong> 会显示为红色加粗</li>
        <li><span style="font-size: 20px;">👋 🚀 💡</span> Emoji 会放大显示</li>
        <li><strong style="color: #4CAF50;">粗体文字</strong> 会显示为绿色</li>
        <li>所有文字都是深色 <span style="color: #1e293b; font-weight: 600;">#1e293b</span></li>
      </ul>
    </div>

    <div style="text-align: center; margin-top: 30px;">
      <button class="button" onclick="openChat()">🐼 打开聊天测试</button>
      <button class="button" style="background: linear-gradient(135deg, #2196F3, #1976D2);" onclick="scrollTest()">📜 测试滚动</button>
    </div>

    <div style="margin-top: 20px; padding: 15px; background: #fff3cd; border-radius: 8px; border-left: 4px solid #ffc107;">
      <p style="color: #856404; font-weight: 600;">💡 提示：</p>
      <p style="color: #856404;">点击右下角的绿色聊天按钮，发送消息测试新的样式效果！</p>
    </div>
  </div>

  <!-- 加载聊天组件 -->
  <script src="simple-chat-widget.js?v=3.0.2" defer></script>

  <script>
    function openChat() {
      // 模拟点击聊天按钮
      setTimeout(() => {
        const chatButton = document.getElementById('pb-chat-button');
        if (chatButton) {
          chatButton.click();
        } else {
          alert('聊天组件正在加载，请稍后再试...');
        }
      }, 500);
    }

    function scrollTest() {
      alert('打开聊天窗口后，发送多条消息测试滚动功能！\n\n建议发送 5-10 条消息，然后尝试上下滚动。');
      openChat();
    }

    // 页面加载后自动打开聊天
    window.addEventListener('load', () => {
      setTimeout(() => {
        console.log('✅ 聊天组件已加载');
        console.log('📱 版本: v3.0.2');
        console.log('🎨 新功能: 深色文字 + 数字高亮 + Emoji 放大 + 平滑滚动');
      }, 2000);
    });
  </script>
</body>
</html>

